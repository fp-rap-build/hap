import{__read as t,__assign as e,__rest as n,__spreadArray as r}from"tslib";import{createContext as i,useRef as o,useContext as a,useEffect as u}from"react";import{cubicBezier as s,linear as l,easeIn as c,easeInOut as f,easeOut as d,circIn as v,circInOut as p,circOut as m,backIn as y,backInOut as g,backOut as h,anticipate as x,bounceIn as b,bounceInOut as A,bounceOut as T,inertia as V,animate as P,velocityPerSecond as w,pipe as S,mix as E,distance as C}from"popmotion";import{invariant as k,warning as L}from"hey-listen";import{complex as R,number as F,px as j,degrees as O,scale as B,alpha as D,progressPercentage as I,color as H,filter as U,percent as X,vw as Y,vh as M}from"style-value-types";import z,{getFrameData as N,cancelSync as Z}from"framesync";function W(t){return"object"==typeof t&&"function"==typeof t.start}var K=i(null);var $=0,q=function(){return $++},_=function(){return t=q,null===(e=o(null)).current&&(e.current=t()),e.current;var t,e},G=function(t){return Array.isArray(t)};function J(t,e){if(!Array.isArray(e))return!1;var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}var Q=function(t){return 1e3*t},tt={linear:l,easeIn:c,easeInOut:f,easeOut:d,circIn:v,circInOut:p,circOut:m,backIn:y,backInOut:g,backOut:h,anticipate:x,bounceIn:b,bounceInOut:A,bounceOut:T},et=function(e){if(Array.isArray(e)){k(4===e.length,"Cubic bezier arrays must contain four numerical values.");var n=t(e,4),r=n[0],i=n[1],o=n[2],a=n[3];return s(r,i,o,a)}return"string"==typeof e?(k(void 0!==tt[e],"Invalid easing type '"+e+"'"),tt[e]):e},nt=function(t,e){return"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!R.test(e)||e.startsWith("url(")))},rt=function(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}},it=function(t){return{type:"spring",stiffness:550,damping:0===t?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}},ot=function(){return{type:"keyframes",ease:"linear",duration:.3}},at=function(t){return{type:"keyframes",duration:.8,values:t}},ut={x:rt,y:rt,z:rt,rotate:rt,rotateX:rt,rotateY:rt,rotateZ:rt,scaleX:it,scaleY:it,scale:it,opacity:ot,backgroundColor:ot,color:ot,default:it},st=e(e({},F),{transform:Math.round}),lt={borderWidth:j,borderTopWidth:j,borderRightWidth:j,borderBottomWidth:j,borderLeftWidth:j,borderRadius:j,radius:j,borderTopLeftRadius:j,borderTopRightRadius:j,borderBottomRightRadius:j,borderBottomLeftRadius:j,width:j,maxWidth:j,height:j,maxHeight:j,size:j,top:j,right:j,bottom:j,left:j,padding:j,paddingTop:j,paddingRight:j,paddingBottom:j,paddingLeft:j,margin:j,marginTop:j,marginRight:j,marginBottom:j,marginLeft:j,rotate:O,rotateX:O,rotateY:O,rotateZ:O,scale:B,scaleX:B,scaleY:B,scaleZ:B,skew:O,skewX:O,skewY:O,distance:j,translateX:j,translateY:j,translateZ:j,x:j,y:j,z:j,perspective:j,transformPerspective:j,opacity:D,originX:I,originY:I,originZ:j,zIndex:st,fillOpacity:D,strokeOpacity:D,numOctaves:st},ct=e(e({},lt),{color:H,backgroundColor:H,outlineColor:H,fill:H,stroke:H,borderColor:H,borderTopColor:H,borderRightColor:H,borderBottomColor:H,borderLeftColor:H,filter:U,WebkitFilter:U}),ft=function(t){return ct[t]};function dt(t,e){var n,r=ft(t);return r!==U&&(r=R),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,e)}var vt=!1;function pt(t){var r=t.ease,i=t.times,o=t.yoyo,a=t.flip,u=t.loop,s=n(t,["ease","times","yoyo","flip","loop"]),l=e({},s);return i&&(l.offset=i),s.duration&&(l.duration=Q(s.duration)),s.repeatDelay&&(l.repeatDelay=Q(s.repeatDelay)),r&&(l.ease=function(t){return Array.isArray(t)&&"number"!=typeof t[0]}(r)?r.map(et):et(r)),"tween"===s.type&&(l.type="keyframes"),(o||u||a)&&(L(!vt,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),vt=!0,o?l.repeatType="reverse":u?l.repeatType="loop":a&&(l.repeatType="mirror"),l.repeat=u||o||a||s.repeat),"spring"!==s.type&&(l.type="keyframes"),l}function mt(i,o,a){var u,s,l,c;return Array.isArray(o.to)&&(null!==(u=i.duration)&&void 0!==u||(i.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=r([],t(e.to)),e.to[0]=e.from)}(o),function(t){t.when,t.delay,t.delayChildren,t.staggerChildren,t.staggerDirection,t.repeat,t.repeatType,t.repeatDelay,t.from;var e=n(t,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(e).length}(i)||(i=e(e({},i),(s=a,l=o.to,c=G(l)?at:ut[s]||ut.default,e({to:l},c(l))))),e(e({},o),pt(i))}function yt(t){return 0===t||"string"==typeof t&&0===parseFloat(t)&&-1===t.indexOf(" ")}function gt(t){return"number"==typeof t?0:dt("",t)}function ht(t,e){return t[e]||t.default||t}function xt(t,n,r,i){return void 0===i&&(i={}),n.start((function(o){var a,u,s=function(t,n,r,i,o){var a,u=ht(i,t),s=null!==(a=u.from)&&void 0!==a?a:n.get(),l=nt(t,r);"none"===s&&l&&"string"==typeof r?s=dt(t,r):yt(s)&&"string"==typeof r?s=gt(r):!Array.isArray(r)&&yt(r)&&"string"==typeof s&&(r=gt(s));var c=nt(t,s);return L(c===l,"You are trying to animate "+t+' from "'+s+'" to "'+r+'". '+s+" is not an animatable value - to enable this animation set "+s+" to a value animatable to "+r+" via the `style` property."),c&&l&&!1!==u.type?function(){var i={from:s,to:r,velocity:n.getVelocity(),onComplete:o,onUpdate:function(t){return n.set(t)}};return"inertia"===u.type||"decay"===u.type?V(e(e({},i),u)):P(e(e({},mt(u,i,t)),{onUpdate:function(t){var e;i.onUpdate(t),null===(e=u.onUpdate)||void 0===e||e.call(u,t)},onComplete:function(){var t;i.onComplete(),null===(t=u.onComplete)||void 0===t||t.call(u)}}))}:function(){var t;return n.set(r),o(),null===(t=null==u?void 0:u.onComplete)||void 0===t||t.call(u),{stop:function(){}}}}(t,n,r,i,o),l=function(t,e){var n;return null!==(n=(ht(t,e)||{}).delay)&&void 0!==n?n:0}(i,t),c=function(){return u=s()};return l?a=setTimeout(c,Q(l)):c(),function(){clearTimeout(a),null==u||u.stop()}}))}function bt(t,e){-1===t.indexOf(e)&&t.push(e)}function At(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Tt=function(){function t(){this.subscriptions=[]}return t.prototype.add=function(t){var e=this;return bt(this.subscriptions,t),function(){return At(e.subscriptions,t)}},t.prototype.notify=function(t,e,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](t,e,n);else for(var i=0;i<r;i++){var o=this.subscriptions[i];o&&o(t,e,n)}},t.prototype.getSize=function(){return this.subscriptions.length},t.prototype.clear=function(){this.subscriptions.length=0},t}(),Vt=function(){function t(t){var e,n=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Tt,this.velocityUpdateSubscribers=new Tt,this.renderSubscribers=new Tt,this.canTrackVelocity=!1,this.updateAndNotify=function(t,e){void 0===e&&(e=!0),n.prev=n.current,n.current=t;var r=N(),i=r.delta,o=r.timestamp;n.lastUpdated!==o&&(n.timeDelta=i,n.lastUpdated=o,z.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),e&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return z.postRender(n.velocityCheck)},this.velocityCheck=function(t){t.timestamp!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(e=this.current,!isNaN(parseFloat(e)))}return t.prototype.onChange=function(t){return this.updateSubscribers.add(t)},t.prototype.clearListeners=function(){this.updateSubscribers.clear()},t.prototype.onRenderRequest=function(t){return t(this.get()),this.renderSubscribers.add(t)},t.prototype.attach=function(t){this.passiveEffect=t},t.prototype.set=function(t,e){void 0===e&&(e=!0),e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)},t.prototype.get=function(){return this.current},t.prototype.getPrevious=function(){return this.prev},t.prototype.getVelocity=function(){return this.canTrackVelocity?w(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},t.prototype.start=function(t){var e=this;return this.stop(),new Promise((function(n){e.hasAnimated=!0,e.stopAnimation=t(n)})).then((function(){return e.clearAnimation()}))},t.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},t.prototype.isAnimating=function(){return!!this.stopAnimation},t.prototype.clearAnimation=function(){this.stopAnimation=null},t.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},t}();function Pt(t){return new Vt(t)}var wt,St=function(t){return function(e){return e.test(t)}},Et=[F,j,X,O,Y,M,{test:function(t){return"auto"===t},parse:function(t){return t}}],Ct=function(t){return Et.find(St(t))},kt=r(r([],t(Et)),[H,R]),Lt=function(t){return kt.find(St(t))};function Rt(t){return Array.isArray(t)}function Ft(t){return"string"==typeof t||Rt(t)}function jt(t,e,n){var r=t.getProps();return function(t,e,n,r,i){var o;return void 0===r&&(r={}),void 0===i&&(i={}),"string"==typeof e&&(e=null===(o=t.variants)||void 0===o?void 0:o[e]),"function"==typeof e?e(null!=n?n:t.custom,r,i):e}(r,e,null!=n?n:r.custom,function(t){var e={};return t.forEachValue((function(t,n){return e[n]=t.get()})),e}(t),function(t){var e={};return t.forEachValue((function(t,n){return e[n]=t.getVelocity()})),e}(t))}function Ot(t){var e;return"function"==typeof(null===(e=t.animate)||void 0===e?void 0:e.start)||Ft(t.initial)||Ft(t.animate)||Ft(t.whileHover)||Ft(t.whileDrag)||Ft(t.whileTap)||Ft(t.whileFocus)||Ft(t.exit)}function Bt(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Pt(n))}function Dt(t,e){if(e)return(e[t]||e.default||e).from}function It(n,r,i){var o;void 0===i&&(i={});var a=jt(n,r,i.custom),u=(a||{}).transition,s=void 0===u?n.getDefaultTransition()||{}:u;i.transitionOverride&&(s=i.transitionOverride);var l=a?function(){return Ht(n,a,i)}:function(){return Promise.resolve()},c=(null===(o=n.variantChildren)||void 0===o?void 0:o.size)?function(t){void 0===t&&(t=0);var o=s.delayChildren,a=void 0===o?0:o,u=s.staggerChildren,l=s.staggerDirection;return function(t,n,r,i,o,a){void 0===r&&(r=0);void 0===i&&(i=0);void 0===o&&(o=1);var u=[],s=(t.variantChildren.size-1)*i,l=1===o?function(t){return void 0===t&&(t=0),t*i}:function(t){return void 0===t&&(t=0),s-t*i};return Array.from(t.variantChildren).sort(Ut).forEach((function(t,i){u.push(It(t,n,e(e({},a),{delay:r+l(i)})).then((function(){return t.notifyAnimationComplete(n)})))})),Promise.all(u)}(n,r,a+t,u,l,i)}:function(){return Promise.resolve()},f=s.when;if(f){var d=t("beforeChildren"===f?[l,c]:[c,l],2),v=d[0],p=d[1];return v().then(p)}return Promise.all([l(),c(i.delay)])}function Ht(t,r,i){var o,a=void 0===i?{}:i,u=a.delay,s=void 0===u?0:u,l=a.transitionOverride,c=a.type,f=t.makeTargetAnimatable(r),d=f.transition,v=void 0===d?t.getDefaultTransition():d,p=f.transitionEnd,m=n(f,["transition","transitionEnd"]);l&&(v=l);var y=[],g=c&&(null===(o=t.animationState)||void 0===o?void 0:o.getState()[c]);for(var h in m){var x=t.getValue(h),b=m[h];if(!(!x||void 0===b||g&&Xt(g,h))){var A=xt(h,x,b,e({delay:s},v));y.push(A)}}return Promise.all(y).then((function(){p&&function(t,r){var i=jt(t,r),o=i?t.makeTargetAnimatable(i,!1):{},a=o.transitionEnd,u=void 0===a?{}:a;o.transition;var s,l=n(o,["transitionEnd","transition"]);for(var c in l=e(e({},l),u)){Bt(t,c,(s=l[c],G(s)?s[s.length-1]||0:s))}}(t,p)}))}function Ut(t,e){return t.sortNodePosition(e)}function Xt(t,e){var n=t.protectedKeys,r=t.needsAnimating,i=n.hasOwnProperty(e)&&!0!==r[e];return r[e]=!1,i}!function(t){t.Animate="animate",t.Hover="whileHover",t.Tap="whileTap",t.Drag="whileDrag",t.Focus="whileFocus",t.Exit="exit"}(wt||(wt={}));var Yt=[wt.Animate,wt.Hover,wt.Tap,wt.Drag,wt.Focus,wt.Exit],Mt=r([],t(Yt)).reverse(),zt=Yt.length;function Nt(t){return function(e){return Promise.all(e.map((function(e){var n=e.animation,r=e.options;return function(t,e,n){var r;if(void 0===n&&(n={}),t.notifyAnimationStart(),Array.isArray(e)){var i=e.map((function(e){return It(t,e,n)}));r=Promise.all(i)}else if("string"==typeof e)r=It(t,e,n);else{var o="function"==typeof e?jt(t,e,n.custom):e;r=Ht(t,o,n)}return r.then((function(){return t.notifyAnimationComplete(e)}))}(t,n,r)})))}}function Zt(i){var o,a=Nt(i),u=((o={})[wt.Animate]=Wt(!0),o[wt.Hover]=Wt(),o[wt.Tap]=Wt(),o[wt.Drag]=Wt(),o[wt.Focus]=Wt(),o[wt.Exit]=Wt(),o),s={},l=!0,c=function(t,r){var o=jt(i,r);if(o){o.transition;var a=o.transitionEnd,u=n(o,["transition","transitionEnd"]);t=e(e(e({},t),u),a)}return t};function f(n,o){for(var f,d=i.getProps(),v=i.getVariantContext(!0)||{},p=[],m=new Set,y={},g=1/0,h=function(a){var s=Mt[a],h=u[s],x=null!==(f=d[s])&&void 0!==f?f:v[s],b=Ft(x),A=s===o?h.isActive:null;!1===A&&(g=a);var T=x===v[s]&&x!==d[s]&&b;if(T&&l&&i.manuallyAnimateOnMount&&(T=!1),h.protectedKeys=e({},y),!h.isActive&&null===A||!x&&!h.prevProp||W(x)||"boolean"==typeof x)return"continue";var V=function(t,e){if("string"==typeof e)return e!==t;if(Rt(e))return!J(e,t);return!1}(h.prevProp,x)||s===o&&h.isActive&&!T&&b||a>g&&b,P=Array.isArray(x)?x:[x],w=P.reduce(c,{});!1===A&&(w={});var S=h.prevResolvedValues,E=void 0===S?{}:S,C=e(e({},E),w),k=function(t){V=!0,m.delete(t),h.needsAnimating[t]=!0};for(var L in C){var R=w[L],F=E[L];y.hasOwnProperty(L)||(R!==F?G(R)&&G(F)?J(R,F)?h.protectedKeys[L]=!0:k(L):void 0!==R?k(L):m.add(L):void 0!==R&&m.has(L)?k(L):h.protectedKeys[L]=!0)}h.prevProp=x,h.prevResolvedValues=w,h.isActive&&(y=e(e({},y),w)),l&&i.blockInitialAnimation&&(V=!1),V&&!T&&p.push.apply(p,r([],t(P.map((function(t){return{animation:t,options:e({type:s},n)}})))))},x=0;x<zt;x++)h(x);if(s=e({},y),m.size){var b={};m.forEach((function(t){var e=i.getBaseTarget(t);void 0!==e&&(b[t]=e)})),p.push({animation:b})}var A=Boolean(p.length);return l&&!1===d.initial&&!i.manuallyAnimateOnMount&&(A=!1),l=!1,A?a(p):Promise.resolve()}return{isAnimated:function(t){return void 0!==s[t]},animateChanges:f,setActive:function(t,e,n){var r;return u[t].isActive===e?Promise.resolve():(null===(r=i.variantChildren)||void 0===r||r.forEach((function(n){var r;return null===(r=n.animationState)||void 0===r?void 0:r.setActive(t,e)})),u[t].isActive=e,f(n,t))},setAnimateFunction:function(t){a=t(i)},getState:function(){return u}}}function Wt(t){return void 0===t&&(t=!1),{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var Kt=function(t){return function(e){return t(e),null}},$t={animation:Kt((function(t){var e=t.visualElement,n=t.animate;e.animationState||(e.animationState=Zt(e)),W(n)&&u((function(){return n.subscribe(e)}),[n])})),exit:Kt((function(e){var n=e.custom,r=e.visualElement,i=t(function(){var t=a(K);if(null===t)return[!0,null];var e=t.isPresent,n=t.onExitComplete,r=t.register,i=_();return u((function(){return r(i)}),[]),!e&&n?[!1,function(){return null==n?void 0:n(i)}]:[!0]}(),2),o=i[0],s=i[1],l=a(K);u((function(){var t,e,i=null===(t=r.animationState)||void 0===t?void 0:t.setActive(wt.Exit,!o,{custom:null!==(e=null==l?void 0:l.custom)&&void 0!==e?e:n});!o&&(null==i||i.then(s))}),[o])}))};function qt(t,e,n,r){return t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n,r)}}function _t(t,e,n,r){u((function(){var i=t.current;if(n&&i)return qt(i,e,n,r)}),[t,e,n,r])}function Gt(t){return!!t.touches}var Jt={pageX:0,pageY:0};function Qt(t,e){void 0===e&&(e="page");var n=t.touches[0]||t.changedTouches[0]||Jt;return{x:n[e+"X"],y:n[e+"Y"]}}function te(t,e){return void 0===e&&(e="page"),{x:t[e+"X"],y:t[e+"Y"]}}var ee=function(t,e){void 0===e&&(e=!1);var n,r=function(e){return t(e,function(t,e){return void 0===e&&(e="page"),{point:Gt(t)?Qt(t,e):te(t,e)}}(e))};return e?(n=r,function(t){var e=t instanceof MouseEvent;(!e||e&&0===t.button)&&n(t)}):r},ne="undefined"!=typeof window,re={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},ie={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function oe(t){return ne&&null===window.onpointerdown?t:ne&&null===window.ontouchstart?ie[t]:ne&&null===window.onmousedown?re[t]:t}function ae(t,e,n,r){return qt(t,oe(e),ee(n,"pointerdown"===e),r)}function ue(t,e,n,r){return _t(t,oe(e),n&&ee(n,"pointerdown"===e),r)}function se(t){var e=null;return function(){return null===e&&(e=t,function(){e=null})}}var le=se("dragHorizontal"),ce=se("dragVertical");function fe(){var t=function(t){var e=!1;if("y"===t)e=ce();else if("x"===t)e=le();else{var n=le(),r=ce();n&&r?e=function(){n(),r()}:(n&&n(),r&&r())}return e}(!0);return!t||(t(),!1)}var de=!1;function ve(t,e,n){return function(r,i){var o;!function(t){return"undefined"!=typeof PointerEvent&&t instanceof PointerEvent?!("mouse"!==t.pointerType):t instanceof MouseEvent}(r)||de||fe()||(null==n||n(r,i),null===(o=t.animationState)||void 0===o||o.setActive(wt.Hover,e))}}var pe=function(t,e){return!!e&&(t===e||pe(t,e.parentElement))};var me,ye,ge={tap:Kt((function(t){var e,n=t.onTap,r=t.onTapStart,i=t.onTapCancel,a=t.whileTap,s=t.visualElement,l=n||r||i||a,c=o(!1),f=o(null);function d(){var t;null===(t=f.current)||void 0===t||t.call(f),f.current=null}function v(){var t;return d(),c.current=!1,null===(t=s.animationState)||void 0===t||t.setActive(wt.Tap,!1),!fe()}function p(t,e){v()&&(pe(s.getInstance(),t.target)?null==n||n(t,e):null==i||i(t,e))}function m(t,e){v()&&(null==i||i(t,e))}ue(s,"pointerdown",l?function(t,e){var n;d(),c.current||(c.current=!0,f.current=S(ae(window,"pointerup",p),ae(window,"pointercancel",m)),null==r||r(t,e),null===(n=s.animationState)||void 0===n||n.setActive(wt.Tap,!0))}:void 0),e=d,u((function(){return function(){return e()}}),[])})),focus:Kt((function(t){var e=t.whileFocus,n=t.visualElement;_t(n,"focus",e?function(){var t;null===(t=n.animationState)||void 0===t||t.setActive(wt.Focus,!0)}:void 0),_t(n,"blur",e?function(){var t;null===(t=n.animationState)||void 0===t||t.setActive(wt.Focus,!1)}:void 0)})),hover:Kt((function(t){var e=t.onHoverStart,n=t.onHoverEnd,r=t.whileHover,i=t.visualElement;ue(i,"pointerenter",e||r?ve(i,!0,e):void 0),ue(i,"pointerleave",n||r?ve(i,!1,n):void 0)}))};function he(t){return[t("x"),t("y")]}function xe(t){return t}!function(t){t[t.Entering=0]="Entering",t[t.Present=1]="Present",t[t.Exiting=2]="Exiting"}(me||(me={})),function(t){t[t.Hide=0]="Hide",t[t.Show=1]="Show"}(ye||(ye={}));var be={translate:0,scale:1,origin:0,originPoint:0};function Ae(){return{x:e({},be),y:e({},be)}}function Te(t){var e=t.getProps(),n=e.drag,r=e._dragX;return n&&!r}function Ve(t,e){t.min=e.min,t.max=e.max}function Pe(t,e,n){return n+e*(t-n)}function we(t,e,n,r,i){return void 0!==i&&(t=Pe(t,i,r)),Pe(t,n,r)+e}function Se(t,e,n,r,i){void 0===e&&(e=0),void 0===n&&(n=1),t.min=we(t.min,e,n,r,i),t.max=we(t.max,e,n,r,i)}function Ee(t,e){var n=e.x,r=e.y;Se(t.x,n.translate,n.scale,n.originPoint),Se(t.y,r.translate,r.scale,r.originPoint)}function Ce(e,n,r,i){var o=t(i,3),a=o[0],u=o[1],s=o[2];e.min=n.min,e.max=n.max;var l=void 0!==r[s]?r[s]:.5,c=E(n.min,n.max,l);Se(e,r[a],r[u],c,r.scale)}var ke=["x","scaleX","originX"],Le=["y","scaleY","originY"];function Re(t,e,n){Ce(t.x,e.x,n,ke),Ce(t.y,e.y,n,Le)}function Fe(t,e,n,r,i){return t=Pe(t-=e,1/n,r),void 0!==i&&(t=Pe(t,1/i,r)),t}function je(e,n,r){var i=t(r,3),o=i[0],a=i[1],u=i[2];!function(t,e,n,r,i){void 0===e&&(e=0),void 0===n&&(n=1),void 0===r&&(r=.5);var o=E(t.min,t.max,r)-e;t.min=Fe(t.min,e,n,o,i),t.max=Fe(t.max,e,n,o,i)}(e,n[o],n[a],n[u],n.scale)}function Oe(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=.01),C(t,e)<n}function Be(t){return t.max-t.min}function De(t,e,n,r){void 0===r&&(r=.5),t.origin=r,t.originPoint=E(e.min,e.max,t.origin),t.scale=Be(n)/Be(e),Oe(t.scale,1,1e-4)&&(t.scale=1),t.translate=E(n.min,n.max,t.origin)-t.originPoint,Oe(t.translate)&&(t.translate=0)}function Ie(t,e,n,r){De(t.x,e.x,n.x,He(r.originX)),De(t.y,e.y,n.y,He(r.originY))}function He(t){return"number"==typeof t?t:.5}function Ue(t,e,n){t.min=n.min+e.min,t.max=t.min+Be(e)}var Xe=function(t){return null!==t&&"object"==typeof t&&t.getVelocity};function Ye(){return{isHydrated:!1,layout:{x:{min:0,max:1},y:{min:0,max:1}},layoutCorrected:{x:{min:0,max:1},y:{min:0,max:1}},treeScale:{x:1,y:1},delta:Ae(),deltaFinal:Ae(),deltaTransform:""}}var Me=Ye();function ze(t,e,n){var r=t.x,i=t.y,o="translate3d("+r.translate/e.x+"px, "+i.translate/e.y+"px, 0) ";if(n){var a=n.rotate,u=n.rotateX,s=n.rotateY;a&&(o+="rotate("+a+") "),u&&(o+="rotateX("+u+") "),s&&(o+="rotateY("+s+") ")}return o+="scale("+r.scale+", "+i.scale+")",n||o!==Ze?o:""}function Ne(t){var e=t.deltaFinal;return 100*e.x.origin+"% "+100*e.y.origin+"% 0"}var Ze=ze(Me.delta,Me.treeScale,{x:1,y:1}),We=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"];function Ke(t,e,n,r){var i,o,a=t.delta,u=t.layout,s=t.layoutCorrected,l=t.treeScale,c=e.target;o=u,Ve((i=s).x,o.x),Ve(i.y,o.y),function(t,e,n){var r=n.length;if(r){var i,o;e.x=e.y=1;for(var a=0;a<r;a++)o=(i=n[a]).getLayoutState().delta,e.x*=o.x.scale,e.y*=o.y.scale,Ee(t,o),Te(i)&&Re(t,t,i.getLatestValues())}}(s,l,n),Ie(a,s,c,r)}var $e=function(t,e){return t.depth-e.depth},qe=function(){function t(){this.children=[],this.isDirty=!1}return t.prototype.add=function(t){bt(this.children,t),this.isDirty=!0},t.prototype.remove=function(t){At(this.children,t),this.isDirty=!0},t.prototype.forEach=function(t){this.isDirty&&this.children.sort($e),this.isDirty=!1,this.children.forEach(t)},t}();function _e(t,e){return{min:e.min-t.min,max:e.max-t.min}}function Ge(t){var e=t.getProjectionParent();if(e){var n,r,i=(n=e.getLayoutState().layout,r=t.getLayoutState().layout,{x:_e(n.x,r.x),y:_e(n.y,r.y)});he((function(e){t.setProjectionTargetAxis(e,i[e].min,i[e].max,!0)}))}else t.rebaseProjectionTarget()}var Je=function(n){var i=n.treeType,o=void 0===i?"":i,a=n.build,u=n.getBaseTarget,s=n.makeTargetAnimatable,l=n.measureViewportBox,c=n.render,f=n.readValueFromInstance,d=n.resetTransform,v=n.restoreTransform,p=n.removeValueFromRenderState,m=n.sortNodePosition,y=n.scrapeMotionValuesFromProps;return function(n,i){var g=n.parent,h=n.props,x=n.presenceId,b=n.blockInitialAnimation,A=n.visualState;void 0===i&&(i={});var T,V,P,w,E,C,k=A.latestValues,L=A.renderState,R=function(){var e=We.map((function(){return new Tt})),n={},i={clearAllListeners:function(){return e.forEach((function(t){return t.clear()}))},updatePropListeners:function(t){return We.forEach((function(e){var r;null===(r=n[e])||void 0===r||r.call(n);var o="on"+e,a=t[o];a&&(n[e]=i[o](a))}))}};return e.forEach((function(e,n){i["on"+We[n]]=function(t){return e.add(t)},i["notify"+We[n]]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e.notify.apply(e,r([],t(n)))}})),i}(),F={isEnabled:!1,isHydrated:!1,isTargetLocked:!1,target:{x:{min:0,max:1},y:{min:0,max:1}},targetFinal:{x:{min:0,max:1},y:{min:0,max:1}}},j=F,O=k,B=Ye(),D=!1,I=new Map,H=new Map,U={},X=e({},k);function Y(){T&&(J.isProjectionReady()&&(Re(j.targetFinal,j.target,O),Ie(B.deltaFinal,B.layoutCorrected,j.targetFinal,k)),M(),c(T,L))}function M(){var t=k;if(w&&w.isActive()){var e=w.getCrossfadeState(J);e&&(t=e)}a(J,L,t,j,B,i,h)}function N(){R.notifyUpdate(k)}function W(){J.layoutTree.forEach(tn)}var K=y(h);for(var $ in K){var q=K[$];void 0!==k[$]&&Xe(q)&&q.set(k[$],!1)}var _=Ot(h),G=function(t){return Boolean(Ot(t)||t.variants)}(h),J=e(e({treeType:o,current:null,depth:g?g.depth+1:0,parent:g,children:new Set,path:g?r(r([],t(g.path)),[g]):[],layoutTree:g?g.layoutTree:new qe,presenceId:x,projection:F,variantChildren:G?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null==g?void 0:g.isMounted()),blockInitialAnimation:b,isMounted:function(){return Boolean(T)},mount:function(t){T=J.current=t,J.pointTo(J),G&&g&&!_&&(C=null==g?void 0:g.addVariantChild(J)),null==g||g.children.add(J)},unmount:function(){Z.update(N),Z.render(Y),Z.preRender(J.updateLayoutProjection),H.forEach((function(t){return t()})),J.stopLayoutAnimation(),J.layoutTree.remove(J),null==C||C(),null==g||g.children.delete(J),null==P||P(),R.clearAllListeners()},addVariantChild:function(t){var e,n=J.getClosestVariantNode();if(n)return null===(e=n.variantChildren)||void 0===e||e.add(t),function(){return n.variantChildren.delete(t)}},sortNodePosition:function(t){return m&&o===t.treeType?m(J.getInstance(),t.getInstance()):0},getClosestVariantNode:function(){return G?J:null==g?void 0:g.getClosestVariantNode()},scheduleUpdateLayoutProjection:g?g.scheduleUpdateLayoutProjection:function(){return z.preRender(J.updateTreeLayoutProjection,!1,!0)},getLayoutId:function(){return h.layoutId},getInstance:function(){return T},getStaticValue:function(t){return k[t]},setStaticValue:function(t,e){return k[t]=e},getLatestValues:function(){return k},setVisibility:function(t){J.isVisible!==t&&(J.isVisible=t,J.scheduleRender())},makeTargetAnimatable:function(t,e){return void 0===e&&(e=!0),s(J,t,h,e)},addValue:function(t,e){J.hasValue(t)&&J.removeValue(t),I.set(t,e),k[t]=e.get(),function(t,e){var n=e.onChange((function(e){k[t]=e,h.onUpdate&&z.update(N,!1,!0)})),r=e.onRenderRequest(J.scheduleRender);H.set(t,(function(){n(),r()}))}(t,e)},removeValue:function(t){var e;I.delete(t),null===(e=H.get(t))||void 0===e||e(),H.delete(t),delete k[t],p(t,L)},hasValue:function(t){return I.has(t)},getValue:function(t,e){var n=I.get(t);return void 0===n&&void 0!==e&&(n=Pt(e),J.addValue(t,n)),n},forEachValue:function(t){return I.forEach(t)},readValue:function(t){var e;return null!==(e=k[t])&&void 0!==e?e:f(T,t,i)},setBaseTarget:function(t,e){X[t]=e},getBaseTarget:function(t){if(u){var e=u(h,t);if(void 0!==e&&!Xe(e))return e}return X[t]}},R),{build:function(){return M(),L},scheduleRender:function(){z.render(Y,!1,!0)},syncRender:Y,setProps:function(t){h=t,R.updatePropListeners(t),U=function(t,e,n){var r;for(var i in e){var o=e[i],a=n[i];if(Xe(o))t.addValue(i,o);else if(Xe(a))t.addValue(i,Pt(o));else if(a!==o)if(t.hasValue(i)){var u=t.getValue(i);!u.hasAnimated&&u.set(o)}else t.addValue(i,Pt(null!==(r=t.getStaticValue(i))&&void 0!==r?r:o))}for(var i in n)void 0===e[i]&&t.removeValue(i);return e}(J,y(h),U)},getProps:function(){return h},getVariant:function(t){var e;return null===(e=h.variants)||void 0===e?void 0:e[t]},getDefaultTransition:function(){return h.transition},getVariantContext:function(t){if(void 0===t&&(t=!1),t)return null==g?void 0:g.getVariantContext();if(!_){var e=(null==g?void 0:g.getVariantContext())||{};return void 0!==h.initial&&(e.initial=h.initial),e}for(var n={},r=0;r<nn;r++){var i=en[r],o=h[i];(Ft(o)||!1===o)&&(n[i]=o)}return n},enableLayoutProjection:function(){F.isEnabled=!0,J.layoutTree.add(J)},lockProjectionTarget:function(){F.isTargetLocked=!0},unlockProjectionTarget:function(){J.stopLayoutAnimation(),F.isTargetLocked=!1},getLayoutState:function(){return B},setCrossfader:function(t){w=t},isProjectionReady:function(){return F.isEnabled&&F.isHydrated&&B.isHydrated},startLayoutAnimation:function(t,e,n){void 0===n&&(n=!1);var r=J.getProjectionAnimationProgress()[t],i=n?F.relativeTarget[t]:F.target[t],o=i.min,a=i.max-o;return r.clearListeners(),r.set(o),r.set(o),r.onChange((function(e){J.setProjectionTargetAxis(t,e,e+a,n)})),J.animateMotionValue(t,r,0,e)},stopLayoutAnimation:function(){he((function(t){return J.getProjectionAnimationProgress()[t].stop()}))},measureViewportBox:function(t){void 0===t&&(t=!0);var e,n,r=l(T,i);return t||(n=k,je((e=r).x,n,ke),je(e.y,n,Le)),r},getProjectionAnimationProgress:function(){return E||(E={x:Pt(0),y:Pt(0)}),E},setProjectionTargetAxis:function(t,e,n,r){var i;void 0===r&&(r=!1),r?(F.relativeTarget||(F.relativeTarget={x:{min:0,max:1},y:{min:0,max:1}}),i=F.relativeTarget[t]):(F.relativeTarget=void 0,i=F.target[t]),F.isHydrated=!0,i.min=e,i.max=n,D=!0,R.notifySetAxisTarget()},rebaseProjectionTarget:function(t,e){void 0===e&&(e=B.layout);var n=J.getProjectionAnimationProgress(),r=n.x,i=n.y,o=!(F.relativeTarget||F.isTargetLocked||r.isAnimating()||i.isAnimating());(t||o)&&he((function(t){var n=e[t],r=n.min,i=n.max;J.setProjectionTargetAxis(t,r,i)}))},notifyLayoutReady:function(t){Ge(J),J.notifyLayoutUpdate(B.layout,J.prevViewportBox||B.layout,t)},resetTransform:function(){return d(J,T,h)},restoreTransform:function(){return v(T,L)},updateLayoutProjection:function(){if(J.isProjectionReady()){var t=B.delta,e=B.treeScale,n=e.x,r=e.x,i=B.deltaTransform;Ke(B,j,J.path,k),D&&J.notifyViewportBoxUpdate(j.target,t),D=!1;var o=ze(t,e);o===i&&n===e.x&&r===e.y||J.scheduleRender(),B.deltaTransform=o}},updateTreeLayoutProjection:function(){J.layoutTree.forEach(Qe),z.preRender(W,!1,!0)},getProjectionParent:function(){if(void 0===V){for(var t=!1,e=J.path.length-1;e>=0;e--){var n=J.path[e];if(n.projection.isEnabled){t=n;break}}V=t}return V},resolveRelativeTargetBox:function(){var t=J.getProjectionParent();if(F.relativeTarget&&t&&(function(t,e){Ue(t.target.x,t.relativeTarget.x,e.target.x),Ue(t.target.y,t.relativeTarget.y,e.target.y)}(F,t.projection),Te(t))){var e=F.target;Re(e,e,t.getLatestValues())}},shouldResetTransform:function(){return Boolean(h._layoutResetTransform)},pointTo:function(t){j=t.projection,O=t.getLatestValues(),null==P||P(),P=S(t.onSetAxisTarget(J.scheduleUpdateLayoutProjection),t.onLayoutAnimationComplete((function(){var t;J.isPresent?J.presence=me.Present:null===(t=J.layoutSafeToRemove)||void 0===t||t.call(J)})))},isPresent:!0,presence:me.Entering});return J}};function Qe(t){t.resolveRelativeTargetBox()}function tn(t){t.updateLayoutProjection()}var en=r(["initial"],t(Yt)),nn=en.length;function rn(t,e){return function(t){var e=t.top;return{x:{min:t.left,max:t.right},y:{min:e,max:t.bottom}}}(function(t,e){var n=t.top,r=t.left,i=t.bottom,o=t.right;void 0===e&&(e=xe);var a=e({x:r,y:n}),u=e({x:o,y:i});return{top:a.y,left:a.x,bottom:u.y,right:u.x}}(t.getBoundingClientRect(),e))}var on={},an=["","X","Y","Z"],un=["transformPerspective","x","y","z"];function sn(t,e){return un.indexOf(t)-un.indexOf(e)}["translate","scale","rotate","skew"].forEach((function(t){return an.forEach((function(e){return un.push(t+e)}))}));var ln=new Set(un);function cn(t){return ln.has(t)}var fn=new Set(["originX","originY","originZ"]);function dn(t){return fn.has(t)}var vn={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function pn(t){return t.startsWith("--")}var mn=function(t,e){return e&&"number"==typeof t?e.transform(t):t};function yn(t,e,n,r,i,o,a,u){var s,l=t.style,c=t.vars,f=t.transform,d=t.transformKeys,v=t.transformOrigin;d.length=0;var p=!1,m=!1,y=!0;for(var g in e){var h=e[g];if(pn(g))c[g]=h;else{var x=lt[g],b=mn(h,x);if(cn(g)){if(p=!0,f[g]=b,d.push(g),!y)continue;h!==(null!==(s=x.default)&&void 0!==s?s:0)&&(y=!1)}else if(dn(g))v[g]=b,m=!0;else if((null==n?void 0:n.isHydrated)&&(null==r?void 0:r.isHydrated)&&on[g]){var A=on[g].process(h,r,n),T=on[g].applyTo;if(T)for(var V=T.length,P=0;P<V;P++)l[T[P]]=A;else l[g]=A}else l[g]=b}}r&&n&&a&&u?(l.transform=a(r.deltaFinal,r.treeScale,p?f:void 0),o&&(l.transform=o(f,l.transform)),l.transformOrigin=u(r)):(p&&(l.transform=function(t,e,n,r){var i=t.transform,o=t.transformKeys,a=e.enableHardwareAcceleration,u=void 0===a||a,s=e.allowTransformNone,l=void 0===s||s,c="";o.sort(sn);for(var f=!1,d=o.length,v=0;v<d;v++){var p=o[v];c+=(vn[p]||p)+"("+i[p]+") ","z"===p&&(f=!0)}return!f&&u?c+="translateZ(0)":c=c.trim(),r?c=r(i,n?"":c):l&&n&&(c="none"),c}(t,i,y,o)),m&&(l.transformOrigin=function(t){var e=t.originX,n=void 0===e?"50%":e,r=t.originY,i=void 0===r?"50%":r,o=t.originZ;return n+" "+i+" "+(void 0===o?0:o)}(v)))}function gn(t){return"string"==typeof t&&t.startsWith("var(--")}var hn=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function xn(e,n,r){void 0===r&&(r=1),k(r<=4,'Max CSS variable fallback depth detected in property "'+e+'". This may indicate a circular fallback dependency.');var i=t(function(e){var n=hn.exec(e);if(!n)return[,];var r=t(n,3);return[r[1],r[2]]}(e),2),o=i[0],a=i[1];if(o){var u=window.getComputedStyle(n).getPropertyValue(o);return u?u.trim():gn(a)?xn(a,n,r+1):a}}var bn,An=new Set(["width","height","top","left","right","bottom","x","y"]),Tn=function(t){return An.has(t)},Vn=function(t,e){t.set(e,!1),t.set(e)},Pn=function(t){return t===F||t===j};!function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"}(bn||(bn={}));var wn=function(t,e){return parseFloat(t.split(", ")[e])},Sn=function(t,e){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var o=i.match(/^matrix3d\((.+)\)$/);if(o)return wn(o[1],e);var a=i.match(/^matrix\((.+)\)$/);return a?wn(a[1],t):0}},En=new Set(["x","y","z"]),Cn=un.filter((function(t){return!En.has(t)}));var kn={width:function(t){var e=t.x;return e.max-e.min},height:function(t){var e=t.y;return e.max-e.min},top:function(t,e){var n=e.top;return parseFloat(n)},left:function(t,e){var n=e.left;return parseFloat(n)},bottom:function(t,e){var n=t.y,r=e.top;return parseFloat(r)+(n.max-n.min)},right:function(t,e){var n=t.x,r=e.left;return parseFloat(r)+(n.max-n.min)},x:Sn(4,13),y:Sn(5,14)},Ln=function(n,r,i,o){void 0===i&&(i={}),void 0===o&&(o={}),r=e({},r),o=e({},o);var a=Object.keys(r).filter(Tn),u=[],s=!1,l=[];if(a.forEach((function(t){var e=n.getValue(t);if(n.hasValue(t)){var a,c=i[t],f=r[t],d=Ct(c);if(G(f))for(var v=f.length,p=null===f[0]?1:0;p<v;p++)a?k(Ct(f[p])===a,"All keyframes must be of the same type"):(a=Ct(f[p]),k(a===d||Pn(d)&&Pn(a),"Keyframes must be of the same dimension as the current value"));else a=Ct(f);if(d!==a)if(Pn(d)&&Pn(a)){var m=e.get();"string"==typeof m&&e.set(parseFloat(m)),"string"==typeof f?r[t]=parseFloat(f):Array.isArray(f)&&a===j&&(r[t]=f.map(parseFloat))}else(null==d?void 0:d.transform)&&(null==a?void 0:a.transform)&&(0===c||0===f)?0===c?e.set(a.transform(c)):r[t]=d.transform(f):(s||(u=function(t){var e=[];return Cn.forEach((function(n){var r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),e.length&&t.syncRender(),e}(n),s=!0),l.push(t),o[t]=void 0!==o[t]?o[t]:r[t],Vn(e,f))}})),l.length){var c=function(t,e,n){var r=e.measureViewportBox(),i=e.getInstance(),o=getComputedStyle(i),a=o.display,u={top:o.top,left:o.left,bottom:o.bottom,right:o.right,transform:o.transform};"none"===a&&e.setStaticValue("display",t.display||"block"),e.syncRender();var s=e.measureViewportBox();return n.forEach((function(n){var i=e.getValue(n);Vn(i,kn[n](r,u)),t[n]=kn[n](s,o)})),t}(r,n,l);return u.length&&u.forEach((function(e){var r=t(e,2),i=r[0],o=r[1];n.getValue(i).set(o)})),n.syncRender(),{target:c,transitionEnd:o}}return{target:r,transitionEnd:o}};function Rn(t,e,n,r){return function(t){return Object.keys(t).some(Tn)}(e)?Ln(t,e,n,r):{target:e,transitionEnd:r}}var Fn=function(t,r,i,o){var a=function(t,r,i){var o,a=n(r,[]),u=t.getInstance();if(!(u instanceof HTMLElement))return{target:a,transitionEnd:i};for(var s in i&&(i=e({},i)),t.forEachValue((function(t){var e=t.get();if(gn(e)){var n=xn(e,u);n&&t.set(n)}})),a){var l=a[s];if(gn(l)){var c=xn(l,u);c&&(a[s]=c,i&&(null!==(o=i[s])&&void 0!==o||(i[s]=l)))}}return{target:a,transitionEnd:i}}(t,r,o);return Rn(t,r=a.target,i,o=a.transitionEnd)};function jn(t,e){var n=e.layout,r=e.layoutId;return cn(t)||dn(t)||(n||void 0!==r)&&(!!on[t]||"opacity"===t)}function On(t){var e=t.style,n={};for(var r in e)(Xe(e[r])||jn(r,t))&&(n[r]=e[r]);return n}function Bn(t,e){var n=e.style,r=e.vars;for(var i in Object.assign(t.style,n),r)t.style.setProperty(i,r[i])}var Dn={treeType:"dom",readValueFromInstance:function(t,e){if(cn(e)){var n=ft(e);return n&&n.default||0}var r,i=(r=t,window.getComputedStyle(r));return(pn(e)?i.getPropertyValue(e):i[e])||0},sortNodePosition:function(t,e){return 2&t.compareDocumentPosition(e)?1:-1},getBaseTarget:function(t,e){var n;return null===(n=t.style)||void 0===n?void 0:n[e]},measureViewportBox:function(t,e){return rn(t,e.transformPagePoint)},resetTransform:function(t,e,n){var r=n.transformTemplate;e.style.transform=r?r({},""):"none",t.scheduleRender()},restoreTransform:function(t,e){t.style.transform=e.style.transform},removeValueFromRenderState:function(t,e){var n=e.vars,r=e.style;delete n[t],delete r[t]},makeTargetAnimatable:function(t,r,i,o){var a=i.transformValues;void 0===o&&(o=!0);var u=r.transition,s=r.transitionEnd,l=n(r,["transition","transitionEnd"]),c=function(t,e,n){var r,i,o={};for(var a in t)o[a]=null!==(r=Dt(a,e))&&void 0!==r?r:null===(i=n.getValue(a))||void 0===i?void 0:i.get();return o}(l,u||{},t);if(a&&(s&&(s=a(s)),l&&(l=a(l)),c&&(c=a(c))),o){!function(t,e,n){var r,i,o,a,u=Object.keys(e).filter((function(e){return!t.hasValue(e)})),s=u.length;if(s)for(var l=0;l<s;l++){var c=u[l],f=e[c],d=null;Array.isArray(f)&&(d=f[0]),null===d&&(d=null!==(i=null!==(r=n[c])&&void 0!==r?r:t.readValue(c))&&void 0!==i?i:e[c]),null!=d&&("string"==typeof d&&/^\-?\d*\.?\d+$/.test(d)?d=parseFloat(d):!Lt(d)&&R.test(f)&&(d=dt(c,f)),t.addValue(c,Pt(d)),null!==(o=(a=n)[c])&&void 0!==o||(a[c]=d),t.setBaseTarget(c,d))}}(t,l,c);var f=Fn(t,l,c,s);s=f.transitionEnd,l=f.target}return e({transition:u,transitionEnd:s},l)},scrapeMotionValuesFromProps:On,build:function(t,e,n,r,i,o,a){void 0!==t.isVisible&&(e.style.visibility=t.isVisible?"visible":"hidden");var u=r.isEnabled&&i.isHydrated;yn(e,n,r,i,o,a.transformTemplate,u?ze:void 0,u?Ne:void 0)},render:Bn},In=Je(Dn);function Hn(t,e,n){return"string"==typeof t?t:j.transform(e+n*t)}var Un=function(t,e){return j.transform(t*e)},Xn={offset:"stroke-dashoffset",array:"stroke-dasharray"},Yn={offset:"strokeDashoffset",array:"strokeDasharray"};function Mn(t,e,r,i,o,a,u,s){var l=e.attrX,c=e.attrY,f=e.originX,d=e.originY,v=e.pathLength,p=e.pathSpacing,m=void 0===p?1:p,y=e.pathOffset,g=void 0===y?0:y;yn(t,n(e,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),r,i,o,a,u,s),t.attrs=t.style,t.style={};var h=t.attrs,x=t.style,b=t.dimensions,A=t.totalPathLength;h.transform&&(b&&(x.transform=h.transform),delete h.transform),b&&(void 0!==f||void 0!==d||x.transform)&&(x.transformOrigin=function(t,e,n){return Hn(e,t.x,t.width)+" "+Hn(n,t.y,t.height)}(b,void 0!==f?f:.5,void 0!==d?d:.5)),void 0!==l&&(h.x=l),void 0!==c&&(h.y=c),void 0!==A&&void 0!==v&&function(t,e,n,r,i,o){void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=!0);var a=o?Xn:Yn;t[a.offset]=Un(-i,e);var u=Un(n,e),s=Un(r,e);t[a.array]=u+" "+s}(h,A,v,m,g,!1)}var zn=/([a-z])([A-Z])/g,Nn=function(t){return t.replace(zn,"$1-$2").toLowerCase()},Zn=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox"]);var Wn=Je(e(e({},Dn),{getBaseTarget:function(t,e){return t[e]},readValueFromInstance:function(t,e){var n;return cn(e)?(null===(n=ft(e))||void 0===n?void 0:n.default)||0:(e=Zn.has(e)?e:Nn(e),t.getAttribute(e))},scrapeMotionValuesFromProps:function(t){var e=On(t);for(var n in t){if(Xe(t[n]))e["x"===n||"y"===n?"attr"+n.toUpperCase():n]=t[n]}return e},build:function(t,e,n,r,i,o,a){var u=r.isEnabled&&i.isHydrated;Mn(e,n,r,i,o,a.transformTemplate,u?ze:void 0,u?Ne:void 0)},render:function(t,e){for(var n in Bn(t,e),e.attrs)t.setAttribute(Zn.has(n)?n:Nn(n),e.attrs[n])}})),Kn=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];var $n=e(e({renderer:function(t,e){return function(t){return"string"==typeof t&&!t.includes("-")&&!!(Kn.indexOf(t)>-1||/[A-Z]/.test(t))}(t)?Wn(e,{enableHardwareAcceleration:!1}):In(e,{enableHardwareAcceleration:!0})}},$t),ge);export{$n as domAnimation};
